<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>API Fun</title>
	<script>
		function getData()
		{
			request = new XMLHttpRequest();
			console.log("request created");

			request.open("GET", "https://official-joke-api.appspot.com/random_ten", true);

			console.log("request opened");

			request.onreadystatechange = function() {
				console.log("readystatechange fired");
				if (request.readyState == 4 && request.status == 200) {
					result = request.responseText;
					var parsed = JSON.parse(result);
					console.log(parsed.length);
					// alert(result);
					for (var i = 0; i < parsed.length; i++) {
						document.getElementById("jokes").innerHTML += "Setup: " + parsed[i].setup + "<br>";
						document.getElementById("jokes").innerHTML += "Punchline: " + parsed[i].punchline + "<br><br>";
					}
				} else if (request.status == 404) {
					console.log(request);	
				}
			}

			request.send();
			console.log("request sent");
		}
	</script>
<body onload="getData()">
	<span id="jokes"><span>

</body>
</head>
</html>